@model PhotoGallery.Web.ViewModels.AdminStatisticsViewModel

<h3 class="mb-4">System Statistics</h3>

<!-- SUMMARY CARDS -->
<div class="row g-3 mb-4">
    <div class="col-md-3">
        <div class="card text-center">
            <div class="card-body">
                <div class="text-muted small">Users</div>
                <div class="fs-3 fw-semibold">@Model.Users</div>
            </div>
        </div>
    </div>

    <div class="col-md-3">
        <div class="card text-center">
            <div class="card-body">
                <div class="text-muted small">Photos</div>
                <div class="fs-3 fw-semibold">@Model.Photos</div>
            </div>
        </div>
    </div>

    <div class="col-md-3">
        <div class="card text-center">
            <div class="card-body">
                <div class="text-muted small">Total Uploads</div>
                <div class="fs-3 fw-semibold">@Model.TotalUploads</div>
            </div>
        </div>
    </div>

    <div class="col-md-3">
        <div class="card text-center">
            <div class="card-body">
                <div class="text-muted small">Total Downloads</div>
                <div class="fs-3 fw-semibold">@Model.TotalDownloads</div>
            </div>
        </div>
    </div>
</div>

<!-- STORAGE STATS -->
<div class="row g-3 mb-5">
    <div class="col-md-4">
        <div class="card text-center">
            <div class="card-body">
                <div class="text-muted small">Storage Used</div>
                <div class="fs-5 fw-semibold">
                    @(Model.StorageUsed / 1024 / 1024) MB
                </div>
            </div>
        </div>
    </div>

    <div class="col-md-4">
        <div class="card text-center">
            <div class="card-body">
                <div class="text-muted small">Largest Photo</div>
                <div class="fs-5 fw-semibold">
                    @(Model.LargestPhotoSize / 1024 / 1024) MB
                </div>
            </div>
        </div>
    </div>

    <div class="col-md-4">
        <div class="card text-center">
            <div class="card-body">
                <div class="text-muted small">Average Photo Size</div>
                <div class="fs-5 fw-semibold">
                    @(Model.AveragePhotoSize / 1024 / 1024).ToString("F2") MB
                </div>
            </div>
        </div>
    </div>
</div>

<!-- TOP DOWNLOADED PHOTOS -->
@if (Model.TopDownloadedPhotos.Any())
{
    <h4 class="mt-4 mb-3">Top Downloaded Photos</h4>

    <table class="table table-sm table-hover pg-table">
        <thead>
            <tr>
                <th>Description</th>
                <th class="text-center">Downloads</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var photo in Model.TopDownloadedPhotos)
            {
                <tr>
                    <td>@photo.Description</td>
                    <td class="text-center fw-semibold">
                        @photo.DownloadCount
                    </td>
                </tr>
            }
        </tbody>
    </table>
}

<!-- STORAGE PER USER -->
@if (Model.StoragePerUser.Any())
{
    <h4 class="mt-5 mb-3">Storage Usage Per User</h4>

    <table class="table table-sm table-hover pg-table">
        <thead>
            <tr>
                <th>User</th>
                <th class="text-end">Storage (MB)</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var user in Model.StoragePerUser)
            {
                <tr>
                    <td>@user.UserEmail</td>
                    <td class="text-end fw-semibold">
                        @(user.StorageUsed / 1024 / 1024)
                    </td>
                </tr>
            }
        </tbody>
    </table>
}
